// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model Summoner {
  id            String         @id
  puuid         String         @unique
  accountId     String
  name          String
  profileIconId Int
  summonerLevel Int
  matchHistory  MatchHistory[]
}

model MatchHistory {
  id            String        @id
  summonerId    String
  summoner      Summoner      @relation(fields: [summonerId], references: [id])
  match         MatchDetails? @relation(fields: [id], references: [id])
  gameCreatedAt BigInt?
}

model MatchDetails {
  id           String        @id
  gameMode     String
  participants Participant[]
  matchHistory MatchHistory?
}

model Participant {
  id                          Int          @id @default(autoincrement())
  matchId                     String
  puuid                       String
  summonerName                String
  item0                       Int
  item1                       Int
  item2                       Int
  item3                       Int
  item4                       Int
  item5                       Int
  item6                       Int
  kills                       Int
  assists                     Int
  deaths                      Int
  championId                  Int
  totalDamageDealtToChampions Int
  totalMinionsKilled          Int
  goldEarned                  Int
  wardsPlaced                 Int
  matchDetails                MatchDetails @relation(fields: [matchId], references: [id])
}
